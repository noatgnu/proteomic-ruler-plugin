<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plugin Documentation</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        h1 {
            border-bottom: 2px solid #2196f3;
            padding-bottom: 10px;
            color: #1976d2;
        }
        h2 {
            margin-top: 30px;
            color: #1976d2;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 5px;
        }
        h3 {
            margin-top: 20px;
            color: #424242;
        }
        h4 {
            color: #616161;
        }
        a {
            color: #2196f3;
            text-decoration: none;
            font-weight: 500;
        }
        a:hover {
            text-decoration: underline;
        }
        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        pre {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
        pre code {
            background: none;
            padding: 0;
        }
        blockquote {
            border-left: 4px solid #2196f3;
            margin: 0;
            padding-left: 15px;
            color: #666;
            background: #f5f9fc;
            padding: 10px 15px;
            border-radius: 4px;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #2196f3;
            color: white;
            font-weight: 600;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        ul, ol {
            padding-left: 25px;
        }
        li {
            margin: 5px 0;
        }
        strong {
            font-weight: 600;
            color: #1976d2;
        }
        .mermaid {
            text-align: center;
            margin: 20px 0;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }
    </style>
</head>
<body>
<h1 id="proteomic-ruler">Proteomic Ruler</h1>
<h2 id="installation">Installation</h2>
<p><a href="cauldron://install?repo=https%3A%2F%2Fgithub.com%2Fnoatgnu%2Fproteomic-ruler-plugin">⬇️ <strong>Click here to install in Cauldron</strong></a></p>
<blockquote>
<p><strong>Repository</strong>: <code>https://github.com/noatgnu/proteomic-ruler-plugin</code></p>
</blockquote>
<p><strong>Manual installation:</strong></p>
<ol>
<li>Open Cauldron</li>
<li>Go to <strong>Plugins</strong> → <strong>Install from Repository</strong></li>
<li>Paste: <code>https://github.com/noatgnu/proteomic-ruler-plugin</code></li>
<li>Click <strong>Install</strong></li>
</ol>
<p><strong>ID</strong>: <code>proteomic-ruler</code><br>
<strong>Version</strong>: 0.1.0<br>
<strong>Category</strong>: analysis<br>
<strong>Author</strong>: Toan Phung</p>
<h2 id="description">Description</h2>
<p>Estimate protein copy numbers and concentrations from deep profile mass spectrometry experiments using the Proteomic Ruler algorithm. Calculates copy numbers per cell, concentrations (nM), mass fractions, and mole fractions without spike-in standards. Based on: Wiśniewski et al. (2014) Mol Cell Proteomics 13:3497-3506. Implementation: <a href="https://github.com/noatgnu/proteomicRuler">https://github.com/noatgnu/proteomicRuler</a></p>
<h2 id="runtime">Runtime</h2>
<ul>
<li>
<p><strong>Environments</strong>: <code>python</code></p>
</li>
<li>
<p><strong>Entrypoint</strong>: <code>ruler.py</code></p>
</li>
</ul>
<h2 id="inputs">Inputs</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>Label</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Visibility</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>input_file</code></td>
<td>Input Protein Intensities File</td>
<td>file</td>
<td>Yes</td>
<td>-</td>
<td>Always visible</td>
</tr>
<tr>
<td><code>accession_id_col</code></td>
<td>Accession ID Column Name</td>
<td>text</td>
<td>Yes</td>
<td>Protein.Ids</td>
<td>Always visible</td>
</tr>
<tr>
<td><code>mw_column</code></td>
<td>Molecular Weight Column Name</td>
<td>text</td>
<td>No</td>
<td></td>
<td>Always visible</td>
</tr>
<tr>
<td><code>intensity_columns</code></td>
<td>Intensity Columns</td>
<td>column-selector (multiple)</td>
<td>No</td>
<td>-</td>
<td>Always visible</td>
</tr>
<tr>
<td><code>ploidy</code></td>
<td>Ploidy Number</td>
<td>number (min: 1, max: 8, step: 1)</td>
<td>Yes</td>
<td>2</td>
<td>Always visible</td>
</tr>
<tr>
<td><code>total_cellular</code></td>
<td>Total Cellular Protein Concentration (pg/pL)</td>
<td>number (min: 50, max: 500, step: 10)</td>
<td>Yes</td>
<td>200</td>
<td>Always visible</td>
</tr>
<tr>
<td><code>get_mw</code></td>
<td>Fetch Molecular Weight from UniProt</td>
<td>boolean</td>
<td>No</td>
<td>false</td>
<td>Always visible</td>
</tr>
</tbody>
</table>
<h3 id="input-details">Input Details</h3>
<h4 id="input-protein-intensities-file-input-file">Input Protein Intensities File (<code>input_file</code>)</h4>
<p>Tab-separated or CSV file containing protein intensities and UniProt accession IDs</p>
<h4 id="accession-id-column-name-accession-id-col">Accession ID Column Name (<code>accession_id_col</code>)</h4>
<p>Column name containing UniProt accession IDs (e.g., Protein.Ids, Majority protein IDs)</p>
<ul>
<li><strong>Placeholder</strong>: <code>Protein.Ids</code></li>
</ul>
<h4 id="molecular-weight-column-name-mw-column">Molecular Weight Column Name (<code>mw_column</code>)</h4>
<p>Column name containing molecular weight in kDa or Da (leave empty to fetch from UniProt)</p>
<ul>
<li><strong>Placeholder</strong>: <code>Mass</code></li>
</ul>
<h4 id="intensity-columns-intensity-columns">Intensity Columns (<code>intensity_columns</code>)</h4>
<p>Select intensity columns for samples. If empty, auto-detects columns matching 'Intensity*' pattern</p>
<h4 id="ploidy-number-ploidy">Ploidy Number (<code>ploidy</code>)</h4>
<p>Ploidy of the organism (1=haploid, 2=diploid, 3=triploid, etc.)</p>
<h4 id="total-cellular-protein-concentration-pgpl-total-cellular">Total Cellular Protein Concentration (pg/pL) (<code>total_cellular</code>)</h4>
<p>Total cellular protein concentration in picograms per picoliter (typical: 200 pg/pL)</p>
<h4 id="fetch-molecular-weight-from-uniprot-get-mw">Fetch Molecular Weight from UniProt (<code>get_mw</code>)</h4>
<p>Automatically fetch molecular weights from UniProt if not present in input file (requires internet connection)</p>
<h2 id="outputs">Outputs</h2>
<table>
<thead>
<tr>
<th>Name</th>
<th>File</th>
<th>Type</th>
<th>Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ruler_output</code></td>
<td><code>ruler_output.txt</code></td>
<td>data</td>
<td>txt</td>
<td>Proteomic Ruler results with copy numbers, concentrations, and rankings</td>
</tr>
</tbody>
</table>
<h2 id="requirements">Requirements</h2>
<ul>
<li><strong>Python Version</strong>: &gt;=3.11</li>
</ul>
<h3 id="python-dependencies-external-file">Python Dependencies (External File)</h3>
<p>Dependencies are defined in: <code>requirements.txt</code></p>
<ul>
<li><code>proteomicruler&gt;=0.1.6</code></li>
<li><code>pandas&gt;=2.2.0</code></li>
<li><code>scipy&gt;=1.11.0</code></li>
<li><code>seaborn&gt;=0.13.0</code></li>
<li><code>uniprotparser&gt;=1.2.0</code></li>
<li><code>click&gt;=8.1.0</code></li>
<li><code>matplotlib&gt;=3.7.0</code></li>
</ul>
<blockquote>
<p><strong>Note</strong>: When you create a custom environment for this plugin, these dependencies will be automatically installed.</p>
</blockquote>
<h2 id="example-data">Example Data</h2>
<p>This plugin includes example data for testing:</p>
<pre><code class="language-yaml">  input_file: diann/Reports.pg_matrix.tsv
  accession_id_col: Protein.Ids
  mw_column: 
  intensity_columns: [C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-IP_01.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-IP_02.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-IP_03.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-MockIP_01.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-MockIP_02.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-MockIP_03.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-IP_01.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-IP_02.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-IP_03.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-MockIP_01.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-MockIP_02.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-MockIP_03.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-WCL_01.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-WCL_02.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_BCA_LT-WCL_03.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-WCL_01.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-WCL_02.raw C:\Raja\DIA-NN searches\June 2022\LT-CBQCA-Test_DIA\RN-DS_220106_Pepide-CBQCA_LT-WCL_03.raw]
  ploidy: 2
  total_cellular: 200
  get_mw: true
</code></pre>
<p>Load example data by clicking the <strong>Load Example</strong> button in the UI.</p>
<h2 id="usage">Usage</h2>
<h3 id="via-ui">Via UI</h3>
<ol>
<li>Navigate to <strong>analysis</strong> → <strong>Proteomic Ruler</strong></li>
<li>Fill in the required inputs</li>
<li>Click <strong>Run Analysis</strong></li>
</ol>
<h3 id="via-plugin-system">Via Plugin System</h3>
<pre><code class="language-typescript">const jobId = await pluginService.executePlugin('proteomic-ruler', {
  // Add parameters here
});
</code></pre>

</body>
</html>